<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tambola</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" href="css/index.css" >
  </head>

  <body>

    <div class="container">

    <h1><em>Tambola By- <mark>Rudra</mark></em></h1>

    <div id="generator-container">

            <button type="button" class="btn btn-outline-dark" onclick="generateNum()">Generator</button>
            <br>
            <div id="number">&nbsp;&nbsp;</div>
            
        </div>
        <div class="divTable blueTable">
    <div class="divTableBody">
    <div class="divTableRow">
    <div class="num" id="num-1">1</div>
    <div class="num" id="num-2">2</div>
    <div class="num" id="num-3">3</div>
    <div class="num" id="num-4">4</div>
    <div class="num" id="num-5">5</div>
    <div class="num" id="num-6">6</div>
    <div class="num" id="num-7">7</div>
    <div class="num" id="num-8">8</div>
    <div class="num" id="num-9">9</div>
    <div class="num" id="num-10">10</div>
    </div>
    <div class="divTableRow">
    <div class="num" id="num-11">11</div>
    <div class="num" id="num-12">12</div>
    <div class="num" id="num-13">13</div>
    <div class="num" id="num-14">14</div>
    <div class="num" id="num-15">15</div>
    <div class="num" id="num-16">16</div>
    <div class="num" id="num-17">17</div>
    <div class="num" id="num-18">18</div>
    <div class="num" id="num-19">19</div>
    <div class="num" id="num-20">20</div>
    </div>
    <div class="divTableRow">
    <div class="num" id="num-21">21</div>
    <div class="num" id="num-22">22</div>
    <div class="num" id="num-23">23</div>
    <div class="num" id="num-24">24</div>
    <div class="num" id="num-25">25</div>
    <div class="num" id="num-26">26</div>
    <div class="num" id="num-27">27</div>
    <div class="num" id="num-28">28</div>
    <div class="num" id="num-29">29</div>
    <div class="num" id="num-30">30</div>
    </div>
    <div class="divTableRow">
    <div class="num" id="num-31">31</div>
    <div class="num" id="num-32">32</div>
    <div class="num" id="num-33">33</div>
    <div class="num" id="num-34">34</div>
    <div class="num" id="num-35">35</div>
    <div class="num" id="num-36">36</div>
    <div class="num" id="num-37">37</div>
    <div class="num" id="num-38">38</div>
    <div class="num" id="num-39">39</div>
    <div class="num" id="num-10">40</div>
    </div>
    <div class="divTableRow">
    <div class="num" id="num-41">41</div>
    <div class="num" id="num-42">42</div>
    <div class="num" id="num-43">43</div>
    <div class="num" id="num-44">44</div>
    <div class="num" id="num-45">45</div>
    <div class="num" id="num-46">46</div>
    <div class="num" id="num-47">47</div>
    <div class="num" id="num-48">48</div>
    <div class="num" id="num-49">49</div>
    <div class="num" id="num-50">50</div>
    </div>
    <div class="divTableRow">
    <div class="num" id="num-51">51</div>
    <div class="num" id="num-52">52</div>
    <div class="num" id="num-53">53</div>
    <div class="num" id="num-54">54</div>
    <div class="num" id="num-55">55</div>
    <div class="num" id="num-56">56</div>
    <div class="num" id="num-57">57</div>
    <div class="num" id="num-58">58</div>
    <div class="num" id="num-59">59</div>
    <div class="num" id="num-60">60</div>
    </div>
    <div class="divTableRow">
    <div class="num" id="num-61">61</div>
    <div class="num" id="num-62">62</div>
    <div class="num" id="num-63">63</div>
    <div class="num" id="num-64">64</div>
    <div class="num" id="num-65">65</div>
    <div class="num" id="num-66">66</div>
    <div class="num" id="num-67">67</div>
    <div class="num" id="num-68">68</div>
    <div class="num" id="num-69">69</div>
    <div class="num" id="num-70">70</div>
    </div>
    <div class="divTableRow">
    <div class="num" id="num-71">71</div>
    <div class="num" id="num-72">72</div>
    <div class="num" id="num-73">73</div>
    <div class="num" id="num-74">74</div>
    <div class="num" id="num-75">75</div>
    <div class="num" id="num-76">76</div>
    <div class="num" id="num-77">77</div>
    <div class="num" id="num-78">78</div>
    <div class="num" id="num-79">79</div>
    <div class="num" id="num-80">80</div>
    </div>
    <div class="divTableRow">
    <div class="num" id="num-81">81</div>
    <div class="num" id="num-82">82</div>
    <div class="num" id="num-83">83</div>
    <div class="num" id="num-84">84</div>
    <div class="num" id="num-85">85</div>
    <div class="num" id="num-86">86</div>
    <div class="num" id="num-87">87</div>
    <div class="num" id="num-88">88</div>
    <div class="num" id="num-89">89</div>
    <div class="num" id="num-90">90</div>
    </div>
    </div>
    </div>
  </div>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>
    (function($){
        $.fn.extend({
            numAnim: function(options) {
                if ( ! this.length)
                    return false;

                this.defaults = {
                    endAt: 90,
                    numClass: 'autogen-num',
                    duration: 0.5,   // seconds
                    interval: 25  // ms
                };
                var settings = $.extend({}, this.defaults, options);

                var $num = $('<span/>', {
                    'class': settings.numClass
                });

                return this.each(function() {
                    var $this = $(this);

                    // Wrap each number in a tag.
                    var frag = document.createDocumentFragment(),
                        numLen = settings.endAt.toString().length;
                    for (x = 0; x < numLen; x++) {
                        var rand_num = Math.floor( Math.random() * 10 );
                        frag.appendChild( $num.clone().text(rand_num)[0] )
                    }
                    $this.empty().append(frag);

                    var get_next_num = function(num) {
                        ++num;
                        if (num > 9) return 0;
                        return num;
                    };

                    // Iterate each number.
                    $this.find('.' + settings.numClass).each(function() {
                        var $num = $(this),
                            num = parseInt( $num.text() );

                        var interval = setInterval( function() {
                            num = get_next_num(num);
                            $num.text(num);
                        }, settings.interval);

                        setTimeout( function() {
                            clearInterval(interval);
                        }, settings.duration * 1000 - settings.interval);
                    });

                    setTimeout( function() {
                        $this.text( settings.endAt.toString() );
                        $("#num-" + settings.endAt).addClass("generated");
                        generated_numbers.push(settings.endAt);
                    }, settings.duration * 1000);
                });}


        });

    })(jQuery);

    var generated_numbers = [];

    $(function(){
        for(i=1; i<=90; i++){
            $("<div />").addClass("num").html(i).attr("id","num-" + i).appendTo("#grid-container");
        }

        var cw = $('.num').width();
        $('.num').css({'height':cw+'px','line-height':cw+'px'});
    });

    function generateNum(){
        if(generated_numbers.length == 90){
            alert("Full House!");
            return;
        }
        while(true){
            var i = getRandomInt(1, 90);
            if($.inArray(i, generated_numbers) == -1){
                //$("#number").html(i);
                $("#number").numAnim({
                    endAt: i
                });
                //$("#num-" + i).addClass("generated");
                //generated_numbers.push(i);
                //setTimeout("generateNum()",200);
                break;
            }
        }
    }

    function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }
</script>

</body></html>
